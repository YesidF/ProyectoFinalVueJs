{"remainingRequest":"C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\src\\components\\ReportesComponent.vue?vue&type=style&index=0&id=4bfb30bb&lang=css&scoped=true&","dependencies":[{"path":"C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\src\\components\\ReportesComponent.vue","mtime":1634490280164},{"path":"C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yesid Fernández\\Documents\\ProyectoFinal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhZ2UtaXRlbTpob3ZlcnsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQo="},{"version":3,"sources":["ReportesComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA","file":"ReportesComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div id=\"reportes\">\r\n    <div class=\"row mt-3\">\r\n        <div class=\"col-12\">\r\n            <h1 class=\"text-center\">Tamizaje Indice de masa corporal (IMC)</h1>\r\n        </div>\r\n    </div>\r\n    <div v-if=\"pageImc\">\r\n        <div class=\"row mt-3\">\r\n            <div class=\"col-12 text-center\">\r\n                <table class=\"table text-center table-striped table-hover\">\r\n                    <thead>\r\n                        <tr class=\"table-dark\">\r\n                            <th scope=\"col\">Nombre</th>\r\n                            <th scope=\"col\">Talla mts</th>\r\n                            <th scope=\"col\">Peso Kg</th>\r\n                            <th scope=\"col\">IMC</th>\r\n                            <th scope=\"col\">F. Registro</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"imc in pageImc\" :key=\"imc.id\">\r\n                            <td>{{imc.usuario.nombre}} {{imc.usuario.apellidos}}</td>\r\n                            <td>{{imc.talla}}</td>\r\n                            <td>{{imc.masa}}</td>\r\n                            <td>{{parseFloat(imc.imc).toFixed(2)}}</td>\r\n                            <td>{{imc.reg_imc}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div>\r\n                    <nav aria-label=\"Page navigation\">\r\n                        <ul class=\"pagination justify-content-center\">\r\n                            <li class=\"page-item\" v-bind:class=\"{'disabled': pageNumber == 0}\">\r\n                                <a class=\"page-link\" @click=\"atras()\">Anterior</a>\r\n                            </li>\r\n                            <li class=\"page-item\" v-for=\"i in totalPages\" :key=\"i\"  v-bind:class=\"{'active': pageNumber+1 == i}\">\r\n                                <a class=\"page-link\" @click=\"getPageImc(i-1)\">{{i}}</a>\r\n                            </li>\r\n                            <li class=\"page-item\" v-bind:class=\"{'disabled': pageNumber+1 == totalPages}\">\r\n                                <a class=\"page-link\" @click=\"siguiente()\">Siguiente</a>\r\n                            </li>\r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3\">\r\n            <div class=\"col-12\">\r\n                <h1 class=\"text-center\">\r\n                    Estadisticas\r\n                </h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3\">\r\n            <div class=\"col-12 text-center\">\r\n                <div class=\"form-check form-check-inline\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-funnel\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z\"/>\r\n                    </svg>\r\n                </div>\r\n                <div class=\"form-check form-check-inline\">\r\n                    <input class=\"form-check-input\" type=\"radio\" name=\"filtroTablaIMC\" id=\"imc\" value=\"imc\" checked v-model=\"selectRadio\">\r\n                    <label class=\"form-check-label\" for=\"imc\">Estadistica IMC</label>\r\n                </div>\r\n                <div class=\"form-check form-check-inline\">\r\n                    <input class=\"form-check-input\" type=\"radio\" name=\"filtroTablaIMC\" id=\"imcHM\" value=\"imcHM\" v-model=\"selectRadio\">\r\n                    <label class=\"form-check-label\" for=\"imcHM\">Estadistica IMC hombre/mujeres</label>\r\n                </div>\r\n                <div class=\"form-check form-check-inline\">\r\n                    <input class=\"form-check-input\" type=\"radio\" name=\"filtroTablaIMC\" id=\"pImcHM\" value=\"pImcHM\" v-model=\"selectRadio\">\r\n                    <label class=\"form-check-label\" for=\"pImcHM\">% Particiapción hombre/mujeres</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3\" v-if=\"selectRadio=='imc'\">\r\n            <div class=\"col-12\">\r\n                <GraficoIMC :dataImc=\"dataImc\"></GraficoIMC>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3\" v-if=\"selectRadio=='imcHM'\">\r\n            <div class=\"col-12\">\r\n                <GraficoIMCHM :dataImcM=\"dataImcM\" :dataImcH=\"dataImcH\"></GraficoIMCHM>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3 \" v-if=\"selectRadio=='pImcHM'\">\r\n            <div class=\"col-12\">\r\n                <GraficoPIMC :dataPimcHM=\"dataPimcHM\"></GraficoPIMC>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div v-else>\r\n        <h4 class=\" alert alert-info text-center\">\r\n            No hay datos para mostrar\r\n        </h4>\r\n    </div>\r\n</div>\r\n    \r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport Global from '../global';\r\nimport GraficoIMC from './ImcChart.vue';\r\nimport GraficoIMCHM from './ImcChartHM.vue';\r\nimport GraficoPIMC from './PImcChart.vue';\r\n\r\nexport default({\r\n    name: 'ReportesComponent',\r\n    components:{\r\n        GraficoIMC,\r\n        GraficoPIMC,\r\n        GraficoIMCHM\r\n    },\r\n    data(){\r\n        return{\r\n            selectRadio: 'imc',\r\n            pageImc: null,\r\n            dataAll: null,\r\n            dataImc: [],\r\n            dataImcH: [],\r\n            dataImcM: [],\r\n            dataPimcHM: [],\r\n            url: Global.url_rest,\r\n            token: '',\r\n            totalPages: 0,\r\n            pageNumber: 0,\r\n            pageSize: 5\r\n\r\n        }\r\n    },\r\n    methods:{\r\n        getPageImc(pageNumber){\r\n            const headers = { \r\n                'Content-Type':'application/json',\r\n                'Authorization': 'Bearer '+ this.token\r\n            };\r\n\r\n            axios.get(this.url+'/imc?pageNumber='+pageNumber+'&pageSize='+this.pageSize,{headers}).then(response=>{\r\n                if(response.data.ok){\r\n                    this.pageNumber=pageNumber\r\n                    this.pageImc = response.data.body.content\r\n                    this.totalPages = response.data.body.totalPages;\r\n                    //console.log(response.data.body)\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                //idicar error\r\n                console.log(error);\r\n            })\r\n        },\r\n        siguiente(){\r\n            this.pageNumber++;\r\n            if(this.pageNumber>(this.totalPages-1)){\r\n                this.pageNumber=(this.totalPages-1);\r\n            }\r\n            this.getPageImc(this.pageNumber);\r\n        },\r\n        atras(){\r\n            this.pageNumber--;\r\n            if(this.pageNumber<0){\r\n                this.pageNumber=0;\r\n            }\r\n            this.getPageImc(this.pageNumber);\r\n        },\r\n        graficos(){\r\n            //obtener # de personas mujeres y hombres participante\r\n            this.dataPimcHM.push(this.dataAll.filter(eachDataImc => eachDataImc.usuario.genero=='Masculino').length)\r\n            this.dataPimcHM.push(this.dataAll.filter(eachDataImc => eachDataImc.usuario.genero=='Femenino').length)\r\n            \r\n            //obtener # de personas con IMC (BP,NP,SP,O1,O2,O3)\r\n            this.dataImc.push(this.dataAll.filter(eachDataImc => eachDataImc.imc<18.50).length)\r\n            this.dataImc.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=18.50 && eachDataImc.imc<=24.99).length)\r\n            this.dataImc.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=25 && eachDataImc.imc<=29.99).length)\r\n            this.dataImc.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=30 && eachDataImc.imc<=34.99).length)\r\n            this.dataImc.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=35 && eachDataImc.imc<=39.99).length)\r\n            this.dataImc.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=40).length)\r\n\r\n            //obtener # de personas hombres con IMC (BP,NP,SP,O1,O2,O3)\r\n            this.dataImcH.push(this.dataAll.filter(eachDataImc => eachDataImc.imc<18.50 && eachDataImc.usuario.genero=='Masculino').length)\r\n            this.dataImcH.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=18.50 && eachDataImc.imc<=24.99 && eachDataImc.usuario.genero=='Masculino').length)\r\n            this.dataImcH.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=25 && eachDataImc.imc<=29.99 && eachDataImc.usuario.genero=='Masculino').length)\r\n            this.dataImcH.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=30 && eachDataImc.imc<=34.99 && eachDataImc.usuario.genero=='Masculino').length)\r\n            this.dataImcH.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=35 && eachDataImc.imc<=39.99 && eachDataImc.usuario.genero=='Masculino').length)\r\n            this.dataImcH.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=40 && eachDataImc.usuario.genero=='Masculino').length)\r\n\r\n            //obtener # de personas mujeres con IMC (BP,NP,SP,O1,O2,O3)\r\n            this.dataImcM.push(this.dataAll.filter(eachDataImc => eachDataImc.imc<18.50 && eachDataImc.usuario.genero=='Femenino').length)\r\n            this.dataImcM.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=18.50 && eachDataImc.imc<=24.99 && eachDataImc.usuario.genero=='Femenino').length)\r\n            this.dataImcM.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=25 && eachDataImc.imc<=29.99 && eachDataImc.usuario.genero=='Femenino').length)\r\n            this.dataImcM.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=30 && eachDataImc.imc<=34.99 && eachDataImc.usuario.genero=='Femenino').length)\r\n            this.dataImcM.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=35 && eachDataImc.imc<=39.99 && eachDataImc.usuario.genero=='Femenino').length)\r\n            this.dataImcM.push(this.dataAll.filter(eachDataImc => eachDataImc.imc>=40 && eachDataImc.usuario.genero=='Femenino').length)\r\n        },\r\n        getAllData(){\r\n            const headers = { \r\n                'Content-Type':'application/json',\r\n                'Authorization': 'Bearer '+ this.token\r\n            };\r\n            axios.get(this.url+'/imc/all',{headers}).then(response=>{\r\n                if(response.data.ok){\r\n                    //console.log(response.data.body)\r\n                    this.dataAll=response.data.body\r\n                    this.graficos()\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                //idicar error\r\n                console.log(error);\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n        this.token = JSON.parse(localStorage.getItem(\"user_autenticado\")).token\r\n        this.getAllData();\r\n        this.getPageImc(this.pageNumber);        \r\n    }\r\n})\r\n</script>\r\n<style lang=\"css\" scoped>\r\n    .page-item:hover{\r\n        cursor: pointer;\r\n    }\r\n</style>"]}]}